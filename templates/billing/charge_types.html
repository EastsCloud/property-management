
{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-2">
  <h4>收费项目</h4>
  <a class="btn btn-primary" href="{{ url_for('charge_types_new') }}">+ 新建收费项目</a>
</div>
<table class="table table-striped">
  <thead><tr><th>ID</th><th>费用名称</th><th>计费周期</th><th>单价</th><th>关联信息</th><th>说明</th></tr></thead>
  <tbody>
    {% for t in types %}
      <tr>
        <td>{{ t.id }}</td>
        <td>{{ t.name }}</td>
        <td>{{ t.billing_cycle or t.unit }}</td>
        <td>¥{{ '%.2f'|format(t.price) }}</td>
        <td>
          {% if t.link_to == 'area' %}
            <span class="badge bg-info">房屋面积</span>
          {% elif t.link_to == 'vehicles' %}
            <span class="badge bg-warning">车辆数量</span>
          {% else %}
            <span class="badge bg-secondary">无关联</span>
          {% endif %}
        </td>
        <td>{{ t.description or '-' }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
